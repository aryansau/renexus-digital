<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>{% block title %}
    {% endblock title %}</title>

  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">


  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.8/css/all.css" integrity="sha384-3AB7yXWz4OeoZcPbieVW64vVXEwADiYyAEhwilzWsLw+9FgqpyjjStpPnpBO8o8S" crossorigin="anonymous">



  <link rel="stylesheet" href="/css/style.css">
  <link href="https://fonts.googleapis.com/css2?family=Piedra&display=swap" rel="stylesheet">

  <link href="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">

  <script src="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

  <link href="https://fonts.googleapis.com/css?family=Playfair+Display:400,700,900" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700" rel="stylesheet">

  {% block head %}
  {% endblock head %}

</head>

<body style="background:white">

   <div id="loading" style="background: url('/media/preloader.gif') no-repeat center center ;       opacity:0.85;
    position: fixed;
    top: 0;
    left: 0;
    height: 100%;
    width: 100%;
    transform: scale(2);
    z-index: 9999999;"></div>


  <div class="wrapper">
    <header>
      <nav id="navbar" style="z-index: 99999999;background-color:black !important">
        <div class="menu-icon">
          <i class="fa fa-bars fa-2x"></i>
        </div>
        <div class="logo">
          <a href="/" style="font-size:20px;font-weight:600;color:white">Logo</a>
        </div>
        <div class="menu">
          <ul>
            <li><a style="color:oldlace; " href="/">Home</a></li>
            <li><a style="color:oldlace;" href="{% url 'about' %}">About Us</a></li>
            <li><a style="color:oldlace;" href="{% url 'careers' %}">Careers</a></li>
            <li><a style="color:oldlace;" href="{% url 'contact' %}">Contact</a></li>
            <li><a style="color:oldlace;" href="{% url 'gallery' %}">Gallery</a></li>
            <li><button onclick="requestdemo()" class="btn btn-outline-success" style="color: white;border-radius: 10%" href="#" >Let's Chat</button>
            </li>
          </ul>
        </div>
      </nav>
      <!-- Nav Ends -->
    </header>

  </div>


<!-- Request Demo Form Starts -->

  <div class='form-overlay'></div>
<div class='icon' id='form-container' style="z-index: 99999999999 !important;position: fixed">
  <span class='icon fa fa-times' id='form-close'></span>
  <div id='form-content'>
    <div id='form-head'>
      <h1 class='pre'>Let's Chat</h1>
      <p class='pre'>Good choice...</p>
      <h1 class='post'>Thanks!</h1>
      <p class='post'>We'll be in touch ASAP</p>
    </div>
    <form id="lets_chat">
      <input id="iname" class='input name' name='user_name' placeholder='Your name please' type='text'>
      <input id="iemail" class='input email' name='user_email' placeholder='A contact email' type='text'>
      <input id="iphone" class='input name' name='user_phone' placeholder='Phone Number' type='text'>
      <input id="icity" class='input name' name='user_city' placeholder='Contact City' type='text'>
      <textarea id="imsg" class='input message' name="user_msg" placeholder='Additional Information?'></textarea>
      <input class='input submit' onclick="submitreq()" type='submit' value='Send Message'>
    </form>
  </div>
</div>


  {% block body %}
  {% endblock body %}


  <!-- Contact Float button -->

  <a href="#" class="float" id="menu-share">
    <i class="fa fa-share my-float"></i>
  </a>
  <ul id="contactul">
    <li><a href="https://www.linkedin.com/in/nikhilmankani/" id="linkedinicon" target="_blank">
        <i class="fab fa-linkedin my-float"></i>
      </a></li>
    <li><a href="tel:+91-7276775259">
        <i class="fa fa-phone my-float"></i>
      </a></li>
    <li><a href="https://mail.google.com/mail/?view=cm&fs=1&tf=1&to=nikhilsmankani@gmail.com">
        <i class="fa fa-envelope my-float"></i>
      </a></li>
  </ul>

  <!-- Footer -->

  {% include 'footer.html' %}



  <script src="https://code.jquery.com/jquery-3.3.1.js" integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60="
    crossorigin="anonymous"></script>
  <script src='https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js'></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
    integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
    crossorigin="anonymous"></script>

  {% block scripts %}
  {% endblock scripts %}


</body>

{% block js %}
{% endblock js %}

<script>
function hideLoader() {
    $('#loading').hide();
}

$(window).ready(hideLoader);


  $(document).ready(function () {
    $(".menu-icon").on("click", function () {
      $("nav ul").toggleClass("showing");
    });
  });

  // Scrolling Effect

  $(window).on("scroll", function () {
    if ($(window).scrollTop()) {
      $('nav').addClass('black');
    }

    else {
      $('nav').removeClass('black');
    }
  })


  var formContainer = $('#form-container');

bindFormClick();
//Opening the form
function bindFormClick(){
  $(formContainer).on('click', function(e) {
    e.preventDefault();
    toggleForm();
    //Ensure container doesn't togleForm when open
    $(this).off();
  });
}

//Closing the form
$('#form-close, .form-overlay').click(function(e) {
  e.stopPropagation();
  e.preventDefault();
  toggleForm();
  bindFormClick();
});

function toggleForm(){
  $(formContainer).toggleClass('expand');
  $(formContainer).children().toggleClass('expand');
  $('body').toggleClass('show-form-overlay');
  $('.form-submitted').removeClass('form-submitted');
}

//Form validation
$('#lets_chat').submit(function() {
  var form = $(this);
  form.find('.form-error').removeClass('form-error');
  var formError = false;

  form.find('.input').each(function() {
    if ($(this).val() == '') {
      $(this).addClass('form-error');
      $(this).select();
      formError = true;
      return false;
    }
    else if ($(this).hasClass('email') && !isValidEmail($(this).val())) {
      $(this).addClass('form-error');
      $(this).select();
      formError = true;
      return false;
    }
  });

  if (!formError) {
    $('body').addClass('form-submitted');
    $('#form-head').addClass('form-submitted');
    setTimeout(function(){
      $(form).trigger("reset");
    }, 1000);
  }
  return false;
});

function isValidEmail(email) {
    var pattern = /^([a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+(\.[a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)*|"((([ \t]*\r\n)?[ \t]+)?([\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*(([ \t]*\r\n)?[ \t]+)?")@(([a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.)+([a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.?$/i;
    return pattern.test(email);
};



function requestdemo(){
  $("#form-container").trigger('click');
}

function submitreq(){
  if($('#iname').val() != '' && $('#iemail').val() != '' && $('#iphone').val() != '' && $('#icity').val() != '' && $('#imsg').val() != ''){
    $.ajax({
          url: "{% url 'reqdemo' %}",
          data: {
            'name': $('#iname').val(),
            'email': $('#iemail').val(),
            'phone': $('#iphone').val(),
            'city': $('#icity').val(),
            'msg': $('#imsg').val()
          },
          encode: true
        });
    }
  }

</script>

</html>